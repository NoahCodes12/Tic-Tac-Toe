<!DOCTYPE html>
<html>
<head>
    <title>Tic Tac Toe boy</title>
    <link rel="stylesheet" href="custom.css">
</head>
<body>
    <h1>i luv Nancy</h1>
    <div id="WinBoard1">Player1<br></div>
    <div id="WinBoard2">Player2<br></div>
<table id="Tabler">
    <tr>
    <td><button onclick="ButtonClicked(this,0)"></button></td>
    <td><button onclick="ButtonClicked(this,1)"></button></td>
    <td><button onclick="ButtonClicked(this,2)"></button></td>
    </tr>
    <tr>

    <td><button onclick="ButtonClicked(this,3)"></button></td>
    <td><button onclick="ButtonClicked(this,4)"></button></td>
    <td><button onclick="ButtonClicked(this,5)"></button></td>
    </tr>   
    <tr>
    <td><button onclick="ButtonClicked(this,6)"></button></td>
    <td><button onclick="ButtonClicked(this,7)"></button></td>
    <td><button onclick="ButtonClicked(this,8)"></button></td>
    </tr>
</table>

<script>
let Score = 0;
let Player = 1;
const field = 
[0,0,0,
 0,0,0,
 0,0,0
];

function WinComparer(field,Score) {
    // Winning conditions: indices for rows, columns, and diagonals
    const winningIndices = [
        [0, 1, 2], // Row 1
        [3, 4, 5], // Row 2
        [6, 7, 8], // Row 3
        [0, 3, 6], // Column 1
        [1, 4, 7], // Column 2
        [2, 5, 8], // Column 3
        [0, 4, 8], // Diagonal 1
        [2, 4, 6]  // Diagonal 2
    ];

    for (let Win of winningIndices) {
        const [a, b, c] = Win;

        // Check if all three positions are the same (1 or 2) and not 0
        if (field[a] !== 0 && field[a] === field[b] && field[b] === field[c]) {
            alert(`Player ${field[a]} you Win!`);
            TotalScore(Player);
            field.splice(0,8,0,0,0,0,0,0,0,0,0);
            document.querySelectorAll('button').forEach(function(button){
                button.innerHTML = "";
           });
            return field;
        }
    }

    return false; // No winner yet
}

function TotalScore(Player) {
    let Side=document.getElementById("WinBoard"+Player);
    let Star = document.createElement('img');
    Star.src = 'Star.gif';
    Side.append(Star);
    return Score;
}
   

function ButtonClicked(button, field_position) {
    
    if (field[field_position] !== 0) {
        // Prevent overwriting an already selected button
        return;
    }
    if (Player===1) {
        field[field_position] = 1;
        button.innerHTML = "X";
        button.
        WinComparer(field,Score);
        
        Player=2;
        
    
    } else {
        if (Player===2) {
        button.innerHTML = "O";
        field[field_position] = 2;
        WinComparer(field,Score); 
        Player=1;  
        
        }
        
    }
   
}
</script>
</body>
</html>